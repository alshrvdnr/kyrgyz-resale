<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>–ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω –ü–æ–¥–∞—Ä–∫–∏</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="app">
      <!-- –ì–õ–ê–í–ù–ê–Ø -->
      <section id="page-home" class="page">
        <header class="main-header">
          <div class="search-row">
            <div class="search-bar">
              <i class="fa fa-search"></i>
              <input
                type="text"
                id="main-search"
                placeholder="–Ø –∏—â—É..."
                onkeypress="handleSearch(event)"
              />
            </div>
            <button class="filter-pink-btn" onclick="showPage('filter')">
              –§–∏–ª—å—Ç—Ä
            </button>
          </div>
          <div class="category-row">
            <div class="cat-chip active" onclick="filterByCat('–í—Å–µ', this)">
              –í—Å–µ
            </div>
            <div class="cat-chip" onclick="filterByCat('flowers', this)">
              –¶–≤–µ—Ç—ã
            </div>
            <div class="cat-chip" onclick="filterByCat('jewelry', this)">
              –Æ–≤–µ–ª–∏—Ä–∫–∞
            </div>
            <div class="cat-chip" onclick="filterByCat('gifts', this)">
              –ü–æ–¥–∞—Ä–∫–∏
            </div>
            <div class="cat-chip" onclick="filterByCat('certs', this)">
              –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
            </div>
          </div>
        </header>

        <div id="home-tabs-wrapper">
          <div class="capsule-container">
            <div class="capsule-tabs">
              <div class="cap-tab active" onclick="switchMainTab('rec', this)">
                –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ
              </div>
              <div class="cap-tab" onclick="switchMainTab('new', this)">
                –ù–æ–≤—ã–µ
              </div>
            </div>
          </div>
          <main class="listings-grid" id="home-grid"></main>
        </div>

        <div id="search-error" class="error-container hidden">
          <p>–ü–æ —Ç–∞–∫–æ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</p>
        </div>
      </section>

      <!-- –ò–ó–ë–†–ê–ù–ù–û–ï -->
      <section id="page-favs" class="page hidden">
        <header class="favs-header-custom">
          <div class="favs-top-line">
            <span style="width: 60px"></span>
            <h2>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h2>
            <button class="favs-clear-link" onclick="clearFavs()">
              –£–¥–∞–ª–∏—Ç—å –≤—Å—ë
            </button>
          </div>
          <div class="favs-tabs-nav">
            <div
              class="f-tab active"
              id="f-tab-ads"
              onclick="switchFavTab('ads')"
            >
              –û–±—ä—è–≤–ª–µ–Ω–∏—è
            </div>
            <div
              class="f-tab"
              id="f-tab-searches"
              onclick="switchFavTab('searches')"
            >
              –ü–æ–∏—Å–∫–∏
            </div>
          </div>
        </header>
        <main id="favs-content-area"></main>
      </section>

      <!-- –ü–†–û–§–ò–õ–¨ -->
      <section id="page-profile" class="page hidden">
        <div class="profile-hero">
          <div class="avatar-circle" id="u-avatar">?</div>
          <h2 id="u-name">–ó–∞–≥—Ä—É–∑–∫–∞...</h2>
        </div>
        <div class="profile-tabs-nav">
          <div
            class="p-tab active"
            id="p-tab-active"
            onclick="switchProfileTab('active')"
          >
            –ê–∫—Ç–∏–≤–Ω–æ
          </div>
          <div class="p-tab" id="p-tab-sold" onclick="switchProfileTab('sold')">
            –ü—Ä–æ–¥–∞–Ω–Ω—ã–µ / –£–¥–∞–ª–µ–Ω–Ω—ã–µ
          </div>
        </div>
        <!-- –í –ø—Ä–æ—Ñ–∏–ª–µ —Ç–µ–ø–µ—Ä—å management-list –¥–ª—è –∫–Ω–æ–ø–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
        <main class="management-list" id="my-ads-grid"></main>
      </section>

      <!-- –ü–û–î–ê–¢–¨ –û–ë–™–Ø–í–õ–ï–ù–ò–ï -->
      <section id="page-add" class="page hidden">
        <header class="page-header-simple">
          <button onclick="showPage('home')" class="icon-btn">‚úï</button>
          <h2>–ù–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</h2>
          <span></span>
        </header>
        <div class="form-scroll">
          <div class="f-group">
            <label>–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è —Ç–æ–≤–∞—Ä–∞</label>
            <div
              class="upload-zone"
              onclick="document.getElementById('file-input').click()"
            >
              <i class="fa fa-camera"></i>
              <span id="file-label">–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–æ—Ç–æ</span>
              <input
                type="file"
                id="file-input"
                accept="image/*"
                hidden
                onchange="handleFileSelect(this)"
              />
            </div>
            <div id="preview-box" class="hidden">
              <img id="img-preview" src="" />
            </div>
          </div>
          <div class="f-group">
            <label>üìç –ì–û–†–û–î</label>
            <select id="in-city" class="main-input">
              <option value="–ë–∏—à–∫–µ–∫">–ë–∏—à–∫–µ–∫</option>
              <option value="–û—à">–û—à</option>
              <option value="–î–∂–∞–ª–∞–ª-–ê–±–∞–¥">–î–∂–∞–ª–∞–ª-–ê–±–∞–¥</option>
              <option value="–¢–æ–∫–º–æ–∫">–¢–æ–∫–º–æ–∫</option>
              <option value="–ö–∞—Ä–∞–∫–æ–ª">–ö–∞—Ä–∞–∫–æ–ª</option>
            </select>
          </div>
          <div class="f-group">
            <label>–ê–¥—Ä–µ—Å (—É–ª–∏—Ü–∞, –¥–æ–º)</label>
            <input
              type="text"
              id="in-address"
              class="main-input"
              placeholder="–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å"
            />
          </div>
          <div class="f-group">
            <label>Telegram –Ω–∏–∫ (–±–µ–∑ @)</label>
            <input
              type="text"
              id="in-tg"
              class="main-input"
              placeholder="username"
            />
          </div>
          <div class="f-group">
            <label>–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
            <input
              type="tel"
              id="in-wa"
              class="main-input"
              placeholder="996..."
            />
          </div>
          <div class="f-group">
            <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
            <input
              type="text"
              id="in-title"
              class="main-input"
              placeholder="–ß—Ç–æ –ø—Ä–æ–¥–∞–µ—Ç–µ?"
            />
          </div>
          <div class="f-group">
            <label>–¶–µ–Ω–∞ (KGS)</label>
            <input
              type="number"
              id="in-price"
              class="main-input"
              placeholder="0"
            />
          </div>
          <div class="f-group">
            <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
            <select id="in-cat" class="main-input">
              <option value="flowers">–¶–≤–µ—Ç—ã</option>
              <option value="jewelry">–Æ–≤–µ–ª–∏—Ä–∫–∞</option>
              <option value="gifts">–ü–æ–¥–∞—Ä–∫–∏</option>
              <option value="certs">–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã</option>
            </select>
          </div>
          <div class="f-group">
            <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
            <textarea
              id="in-desc"
              class="main-input"
              placeholder="–û–ø–∏—Å–∞–Ω–∏–µ..."
            ></textarea>
          </div>
          <button class="pink-btn-full" onclick="publishAndSend()">
            –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å
          </button>
        </div>
      </section>

      <!-- –°–¢–†–ê–ù–ò–¶–ê –†–ï–î–ê–ö–¢–ò–†–û–í–ê–ù–ò–Ø -->
      <section id="page-edit-ad" class="page hidden">
        <header class="page-header-simple">
          <button onclick="showPage('profile')" class="icon-btn">‚úï</button>
          <h2>–ò–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</h2>
          <span></span>
        </header>
        <div class="form-scroll">
          <input type="hidden" id="edit-id" />
          <div class="f-group">
            <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
            <input type="text" id="edit-title" class="main-input" />
          </div>
          <div class="f-group">
            <label>–¶–µ–Ω–∞ (KGS)</label>
            <input type="number" id="edit-price" class="main-input" />
          </div>
          <div class="f-group">
            <label>–ê–¥—Ä–µ—Å</label>
            <input type="text" id="edit-address" class="main-input" />
          </div>
          <button class="pink-btn-full" onclick="saveAdChanges()">
            –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
          </button>
        </div>
      </section>

      <!-- –§–ò–õ–¨–¢–† -->
      <section id="page-filter" class="page hidden">
        <header class="page-header-simple">
          <button onclick="showPage('home')">‚úï</button>
          <h2>–§–∏–ª—å—Ç—Ä</h2>
          <button class="pink-txt-link" onclick="showPage('home')">
            –û—á–∏—Å—Ç–∏—Ç—å
          </button>
        </header>
        <div class="form-body">
          <div class="f-group">
            <label>–ì–æ—Ä–æ–¥</label>
            <select class="main-input">
              <option>–í—Å–µ –≥–æ—Ä–æ–¥–∞</option>
              <option>–ë–∏—à–∫–µ–∫</option>
              <option>–û—à</option>
            </select>
          </div>
          <button class="pink-btn-full" onclick="showPage('home')">
            –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
          </button>
        </div>
      </section>

      <!-- –ü–û–î–†–û–ë–ù–û–°–¢–ò -->
      <div id="product-modal" class="full-view hidden">
        <div class="pv-header">
          <button class="pv-back" onclick="closeProduct()">
            <i class="fa fa-chevron-left"></i>
          </button>
          <div class="pv-top-icons" id="modal-fav-icon"></div>
        </div>
        <div id="pv-content" class="pv-scroll-area"></div>
      </div>

      <!-- –ù–ê–í–ò–ì–ê–¶–ò–Ø -->
      <nav class="bottom-nav">
        <button class="nav-item active" onclick="showPage('home')" id="n-home">
          <i class="fa fa-home"></i><span>–ì–ª–∞–≤–Ω–∞—è</span>
        </button>
        <div class="nav-center">
          <button class="pink-plus" onclick="showPage('add')">+</button>
          <p>–ü–æ–¥–∞—Ç—å</p>
        </div>
        <button class="nav-item" onclick="showPage('favs')" id="n-favs">
          <i class="fa fa-heart"></i><span>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</span>
        </button>
        <button class="nav-item" onclick="showPage('profile')" id="n-profile">
          <i class="fa fa-user"></i><span>–ü—Ä–æ—Ñ–∏–ª—å</span>
        </button>
      </nav>
    </div>
    <script src="app.js"></script>
  </body>
</html>
